(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1885:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e(100),a=e(84),c=e(351),i=e(3),u=e(567),l=e(110),s=e(916),f=e(222),p=function(t,n,e){return r.useEffect(function(){f.a.load("https://accounts.google.com/gsi/client").then(function(){t&&n?(google.accounts.id.initialize({client_id:n,callback:e,cancel_on_tap_outside:!1}),google.accounts.id.prompt()):google.accounts.id.cancel()})},[n,e,t])},g=function(){return r.useCallback(function(){return new Promise(function(t,n){f.a.load("https://apis.google.com/js/platform.js").then(function(){return gapi.load("auth2",t)}).catch(n)})},[])};function h(){return(h=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}var b=function(t){return new Promise(function(n,e){gapi.auth2.authorize(t,function(t){t.error?e(t.error):n(t)})})},d=function(t,n){var e=g();return r.useCallback(function(r){return e().then(function(){var e={client_id:t,login_hint:r,scope:n.join(" ")};return b(h({},e,{prompt:"none"})).catch(function(t){if("immediate_failed"===t)return b(h({},e,{prompt:"consent"}));throw t})})},[e,t,n])};function m(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,o=!1,a=void 0;try{for(var c,i=t[Symbol.iterator]();!(r=(c=i.next()).done)&&(e.push(c.value),!n||e.length!==n);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=["openid","email","profile"];n.default=function(){var t=Object(i.a)(),n=Object(a.useStartLoginAttempt)(),e=Object(a.useResetSession)(),f="874470485231-c7l7qahib20c03gpab475f1j0una1pcu.apps.googleusercontent.com",g=m(r.useState(null),2),h=g[0],b=g[1],j=m(Object(s.a)(),2),y=j[0],w=j[1],O=m(r.useState(!1),2),k=O[0],_=O[1],S=Object(a.useHasActiveSession)(),A=Object(l.a)(),C=Object(o.useLoginWithTokenExchange)(),E=d(f,v),P=r.useCallback(function(){e(),b(null),w(),_(!1)},[e,b,w]);return p(!S&&!0,f,r.useCallback(function(t){var r=t.credential;n(),_(!0);try{var o=Object(c.extractJWTPayload)(r);E(o.sub).then(function(t){var n=t.access_token;return C(A,{provider:"google",token:n})}).catch(function(t){b(t),e()})}catch(t){b(t),e()}},[A,E,C,e,n])),r.createElement(r.Fragment,null,r.createElement(u.a,{visible:k&&(!!h||!!y),onVisibilityChanged:P,message:y||t._("We're having trouble interacting with Google. Please try again later.")}))}}}]);
//# sourceMappingURL=googleOneTap.119e602aeea3e7cb5a3c.js.map